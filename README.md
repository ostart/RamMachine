# RAM-машина (Random Access Machine)

В рамках данного проекта реализовано WPF приложение на C#, эмулирующее RAM-машину, которая напоминает машину Тьюринга, но конструктивно "проще".

RAM-машина ближе к привычным компьютерам и языкам программирования. Она содержит "бесконечный" набор ячеек (регистров), хранящих целые числа (от -127 до 127). Число -128 зарезервировано системой и не может использоваться.
Каждый регистр определяется своим индексом -- обычным целым числом, в том числе и отрицательным. Особый регистр с индексом 0 называется сумматор (Adder).

Ввод данных осуществляется с "бесконечной входной ленты" (текстовое поле Input Data), последовательно число за числом, разделенные переводом на новую строку.

Вывод данных происходит на "бесконечную выходную ленту" в виде текстового поля Result. Числа "печатаются" и выведенные данные изменить невозможно.

RAM-машина программируется на "ассемблере". Текст ассемблерной программы задается в поле Assembler Commands. 
В "ассемблере" разрешается применять как константы (числа), так и два вида адресаций: прямую и косвенную.

Прямая адресация [] -- когда в команде указывается номер ячейки, из которой надо взять значение или в которую надо записать значение.

Косвенная адресация [[]] -- когда в команде указывается номер первой ячейки, которая хранит адрес второй ячейки, из которой надо взять значение или в которую надо записать значение. 

Команды "ассемблера":

READ -- очередное значение входной ленты помещается в сумматор.

WRITE -- вывести на выходную ленту значение из сумматора.

LOAD x, y -- загрузить значение x в ячейку y

ADD x,y,z -- сложить значения x и y и результат поместить в z

SUB x,y,z -- вычесть из значения x значение y и результат поместить в z

CPY x,y -- копировать значение x в y

JNZ x, метка -- если в x значение больше нуля, перейти к метке. 

HALT -- остановиться


Работа RAM-машины управляется кнопками:
- New (всё очистить и начать заново);
- Step (выполнить один шаг программы);
- Run (запустить программу на выполнение с заданной паузой из настроек);
- Stop (остановить запущенную программу)
- Settings (вызывает отдельное окно настроек программы для задания времени срабатывания таймера в секундах. По умолчанию интервал таймера равен 0.1 сек)

![Settings Window](https://github.com/ostart/RamMachine/blob/master/img/settings.jpg)

Текущая выполняемая команда показывается в отдельном поле Current Executed Command.

# Описание работы программы

Введите текст программы в окошке Assembler Commands, либо использую меню File -> Open откройте любой из примеров:
summNumbers.txt - суммирование входных чисел
findMaxNumber.txt - нахождение максимального из входных чисел
multiplyTwoNumbers.txt - умножение двух чисел

![Menu File Open](https://github.com/ostart/RamMachine/blob/master/img/menuFile.jpg)

Числа входной леты вводятся в поле Input Data.

Программа запускается кнопкой Run с заданным интервалом таймера из настроек, либо кнопкой Step, выполняя один шаг программы.

В случае некорректной команды RAM-машина останавливается и выводит соответствующее сообщение.

Программа обнаруживает состояние зацикливания (deadlock) --- когда происходит переход к метке, к которой ранее уже выполнялся переход, а значения всех регистров с тех пор не изменились.

Результат выполнения программы отображается в поле Result.


Пример программы умножения двух чисел:

![multiplyTwoNumbers](https://github.com/ostart/RamMachine/blob/master/img/multiplyTwoNumbers.jpg)

Пример программы нахождения максимального из входных чисел:

![findMaxNumber](https://github.com/ostart/RamMachine/blob/master/img/findMaxNumber.jpg)

Пример программы суммирования входных чисел:

![summNumbers](https://github.com/ostart/RamMachine/blob/master/img/summNumbers.jpg)


Используемую программу в окошке Assembler Commands можно сохранить используя: File -> Save
